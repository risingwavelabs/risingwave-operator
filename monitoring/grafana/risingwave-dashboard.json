{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"description":"RisingWave Dashboard","editable":true,"fiscalYearStartMonth":0,"graphTooltip":1,"id":31,"iteration":1658136727476,"links":[],"liveNow":false,"panels":[{"collapsed":false,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":0},"hideTimeOverride":false,"id":1,"links":[],"maxDataPoints":100,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Cluster Node","transformations":[],"type":"row"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":1},"hideTimeOverride":false,"id":3,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editorMode":"code","exemplar":false,"expr":"sum((rate(process_cpu_seconds_total{namespace=\"$namespace\"}[$__rate_interval]) * on(namespace, pod) group_left(node) topk by(namespace, pod) (1, max by(namespace, pod, node) (kube_pod_info{node!=\"\"}))) * on(namespace, pod) group_left() topk by(namespace, pod) (1, max by(namespace, risingwave_component, pod) (up{risingwave_name=\"$instance\"}))) by (pod, risingwave_component, node)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{pod}} @ {{risingwave_component}} @ {{node}}","metric":"","range":true,"refId":"A","step":10,"target":""}],"title":"Node CPU","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":1},"hideTimeOverride":false,"id":2,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editorMode":"code","exemplar":false,"expr":"avg((process_resident_memory_bytes{namespace=\"$namespace\"} * on(namespace, pod) group_left(node) topk by(namespace, pod) (1, max by(namespace, pod, node) (kube_pod_info{node!=\"\"}))) * on(namespace, pod) group_left() topk by(namespace, pod) (1, max by(namespace, risingwave_component, pod) (up{risingwave_name=~\"$instance\"}))) by (pod, risingwave_component, node)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{pod}} @ {{risingwave_component}} @ {{node}}","metric":"","range":true,"refId":"A","step":10,"target":""}],"title":"Node Memory","transformations":[],"type":"timeseries"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":9},"hideTimeOverride":false,"id":4,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":2},"hideTimeOverride":false,"id":5,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(storage_level_sst_num{namespace=\"$namespace\", risingwave_name=\"$instance\"}) by (pod, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}}","metric":"","refId":"A","step":10,"target":""}],"title":"SST Counts","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"deckbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":2},"hideTimeOverride":false,"id":6,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(storage_level_total_file_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}) by (pod, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}}","metric":"","refId":"A","step":10,"target":""}],"title":"KBs level sst","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":10},"hideTimeOverride":false,"id":7,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"storage_level_compact_frequency{namespace=\"$namespace\", risingwave_name=\"$instance\"}","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""}],"title":"Compaction Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":10},"hideTimeOverride":false,"id":8,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(state_store_compact_task_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"compact-task p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_compact_task_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"compact-task p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le)(rate(state_store_compact_task_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le) (rate(state_store_compact_task_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"compact-task avg","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le)(rate(state_store_compact_sst_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le) (rate(state_store_compact_sst_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"compact-key-range avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_compact_sst_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"compact-key-range p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_get_table_id_total_time_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get-table-id p90 {{pod}} @ {{risingwave_component}}","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_remote_read_time_per_task_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"remote-io p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"G","step":10,"target":""}],"title":"Compaction Duration","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":18},"hideTimeOverride":false,"id":9,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_read_next{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod) + sum(rate(storage_level_compact_read_curr{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"read - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_write{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"write - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_write_build_l0_bytes{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"flush - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""}],"title":"Compaction Throughput","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":18},"hideTimeOverride":false,"id":10,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"storage_level_compact_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}}","metric":"","refId":"A","step":10,"target":""}],"title":"Compacting SST Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":26},"hideTimeOverride":false,"id":11,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_read_next{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} read","metric":"","refId":"A","step":10,"target":""}],"title":"KBs Read from Next Level","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":26},"hideTimeOverride":false,"id":12,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_read_curr{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} read","metric":"","refId":"A","step":10,"target":""}],"title":"KBs Read from Current Level","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":34},"hideTimeOverride":false,"id":13,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_read_sstn_curr{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} read","metric":"","refId":"A","step":10,"target":""}],"title":"Count of SSTs Read from Current Level","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":34},"hideTimeOverride":false,"id":14,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_write{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} write","metric":"","refId":"A","step":10,"target":""}],"title":"KBs Written to Next Level","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":42},"hideTimeOverride":false,"id":15,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_write_sstn{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} write","metric":"","refId":"A","step":10,"target":""}],"title":"Count of SSTs Written to Next Level","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":42},"hideTimeOverride":false,"id":16,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(storage_level_compact_read_sstn_next{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, level_index)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"L{{level_index}} read","metric":"","refId":"A","step":10,"target":""}],"title":"Count of SSTs Read from Next Level","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":50},"hideTimeOverride":false,"id":17,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"version_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"version size","metric":"","refId":"A","step":10,"target":""}],"title":"Hummock Version Size","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Compaction","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":10},"hideTimeOverride":false,"id":18,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":3},"hideTimeOverride":false,"id":19,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(object_store_read_bytes{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"read - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(object_store_write_bytes{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"write - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""}],"title":"Throughput","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":3},"hideTimeOverride":false,"id":20,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(object_store_operation_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(object_store_operation_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(object_store_operation_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, type)(rate(object_store_operation_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, type) (rate(object_store_operation_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} avg","metric":"","refId":"D","step":10,"target":""}],"title":"Operation Duration","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":11},"hideTimeOverride":false,"id":21,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(object_store_operation_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type, risingwave_component, pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""}],"title":"Operation","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":11},"hideTimeOverride":false,"id":22,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(object_store_operation_bytes_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}}  p90","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.80, sum(rate(object_store_operation_bytes_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, type))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} p80","metric":"","refId":"B","step":10,"target":""}],"title":"Op Size","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"$"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":19},"hideTimeOverride":false,"id":23,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(object_store_read_bytes{namespace=\"$namespace\", risingwave_name=\"$instance\"}) * 0.01 / 1000 / 1000 / 1000","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"(Cross Region) Data Transfer Cost","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(object_store_operation_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\", type=~'read|delete'}) * 0.0004 / 1000","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GET + DELETE Request Cost","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(object_store_operation_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\", type='upload'}) * 0.005 / 1000","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PUT Request Cost","metric":"","refId":"C","step":10,"target":""}],"title":"Estimated S3 Cost (Realtime)","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"$"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":19},"hideTimeOverride":false,"id":24,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(storage_level_total_file_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}) by (pod) * 0.023 / 1000 / 1000","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Monthly Storage Cost","metric":"","refId":"A","step":10,"target":""}],"title":"Estimated S3 Cost (Monthly)","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Object Storage","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":11},"hideTimeOverride":false,"id":25,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":4},"hideTimeOverride":false,"id":26,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(meta_barrier_duration_seconds_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(meta_barrier_duration_seconds_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(meta_barrier_duration_seconds_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(meta_barrier_duration_seconds_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_p999","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(1.0, sum(rate(meta_barrier_duration_seconds_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_pmax","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(meta_barrier_duration_seconds_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(meta_barrier_duration_seconds_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"barrier_latency_avg","metric":"","refId":"F","step":10,"target":""}],"title":"Barrier Latency","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"rows/s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":4},"hideTimeOverride":false,"id":27,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_source_output_rows_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[15s])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"source_id = {{source_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Source Throughput","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Streaming","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":12},"hideTimeOverride":false,"id":28,"links":[],"maxDataPoints":100,"panels":[{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"rows/s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":5},"hideTimeOverride":false,"id":29,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_executor_row_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[15s]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}->{{executor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Executor Throughput","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":5},"hideTimeOverride":false,"id":30,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_barrier_time{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Actor Barrier Latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":13},"hideTimeOverride":false,"id":31,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_processing_time{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Actor Processing Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":13},"hideTimeOverride":false,"id":32,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_actor_execution_time{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Actor Execution Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":21},"hideTimeOverride":false,"id":33,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_fast_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Fast Poll Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":21},"hideTimeOverride":false,"id":34,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_fast_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Fast Poll Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":21},"hideTimeOverride":false,"id":35,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_fast_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(stream_actor_fast_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Fast Poll Avg Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":29},"hideTimeOverride":false,"id":36,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_slow_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Slow Poll Total Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":29},"hideTimeOverride":false,"id":37,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_slow_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Slow Poll Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":29},"hideTimeOverride":false,"id":38,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_slow_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(stream_actor_slow_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Slow Poll Avg Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":37},"hideTimeOverride":false,"id":39,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Poll Total Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":37},"hideTimeOverride":false,"id":40,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Poll Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":37},"hideTimeOverride":false,"id":41,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_poll_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(stream_actor_poll_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Poll Avg Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":45},"hideTimeOverride":false,"id":42,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_idle_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Idle Total Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":45},"hideTimeOverride":false,"id":43,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_idle_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Idle Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":45},"hideTimeOverride":false,"id":44,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_idle_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(stream_actor_idle_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Idle Avg Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":53},"hideTimeOverride":false,"id":45,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_scheduled_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Scheduled Total Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":53},"hideTimeOverride":false,"id":46,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_scheduled_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Scheduled Count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":53},"hideTimeOverride":false,"id":47,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_actor_scheduled_duration{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) / rate(stream_actor_scheduled_cnt{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]) > 0","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Tokio: Actor Scheduled Avg Time","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":61},"hideTimeOverride":false,"id":48,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_join_lookup_miss_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"cache miss {{actor_id}} {{side}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_join_lookup_total_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"total lookups {{actor_id}} {{side}}","metric":"","refId":"B","step":10,"target":""}],"title":"Join Executor Cache","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":61},"hideTimeOverride":false,"id":49,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(stream_join_barrier_align_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, actor_id, wait_side, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 {{actor_id}}.{{wait_side}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(stream_join_barrier_align_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, actor_id, wait_side, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 {{actor_id}}.{{wait_side}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(stream_join_barrier_align_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, actor_id, wait_side, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p999 {{actor_id}}.{{wait_side}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(1.0, sum(rate(stream_join_barrier_align_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, actor_id, wait_side, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pmax {{actor_id}}.{{wait_side}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, actor_id, wait_side, risingwave_component, pod)(rate(stream_join_barrier_align_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le,actor_id,wait_side,risingwave_component,pod) (rate(stream_join_barrier_align_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg {{actor_id}}.{{wait_side}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""}],"title":"Join Executor Barrier Align","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Streaming Actors","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":13},"hideTimeOverride":false,"id":50,"links":[],"maxDataPoints":100,"panels":[{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":6},"hideTimeOverride":false,"id":51,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_exchange_send_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}[15s])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{up_actor_id}}->{{down_actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Exchange Send Throughput","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":6},"hideTimeOverride":false,"id":52,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"rate(stream_exchange_recv_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}[15s])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{up_actor_id}}->{{down_actor_id}}","metric":"","refId":"A","step":10,"target":""}],"title":"Exchange Recv Throughput","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Streaming Exchange","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":14},"hideTimeOverride":false,"id":53,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":7},"hideTimeOverride":false,"id":54,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_get_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_iter_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"iter - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_range_scan_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"range_scan - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_range_reverse_scan_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"reverse_range_scan - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_get_shared_buffer_hit_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer hit - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""}],"title":"Read Ops","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":7},"hideTimeOverride":false,"id":55,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.50, sum(rate(state_store_get_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(rate(state_store_get_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_get_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_get_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component, pod) (rate(state_store_get_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"Read Duration - Get","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":15},"hideTimeOverride":false,"id":56,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.50, sum(rate(state_store_range_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(rate(state_store_range_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le,risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_range_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_range_scan_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component,pod) (rate(state_store_range_scan_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"Read Duration - Scan","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":15},"hideTimeOverride":false,"id":57,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.50, sum(rate(state_store_range_reverse_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(rate(state_store_range_reverse_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_range_reverse_scan_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_range_reverse_scan_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component, pod) (rate(state_store_range_reverse_scan_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"Read Duration - Reverse Scan","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":23},"hideTimeOverride":false,"id":58,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_iter_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_iter_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_iter_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(1.0, sum(rate(state_store_iter_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pmax - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_iter_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component,pod) (rate(state_store_iter_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""}],"title":"Read Duration - Iter","transformations":[],"type":"timeseries"},{"datasource":{},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":23},"hideTimeOverride":false,"id":59,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_sst_store_block_request_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component, pod, type)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{type}} - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""}],"title":"Block Ops","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":31},"hideTimeOverride":false,"id":60,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"avg(state_store_meta_cache_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"meta cache - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"avg(state_store_block_cache_size{namespace=\"$namespace\", risingwave_name=\"$instance\"}) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"data cache - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""}],"title":"Cache Size","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":31},"hideTimeOverride":false,"id":61,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_write_batch_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"write batch - {{pod}} @ {{risingwave_component}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_shared_buffer_to_l0_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"l0 - {{pod}} @ {{risingwave_component}} ","metric":"","refId":"B","step":10,"target":""}],"title":"Write Ops","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":39},"hideTimeOverride":false,"id":62,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(state_store_write_batch_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_write_batch_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_write_batch_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_write_batch_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))  / sum by(le, risingwave_component, pod)(rate(state_store_write_batch_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(state_store_write_shared_buffer_sync_time_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"sync_remote p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_write_shared_buffer_sync_time_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"sync_remote p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_write_shared_buffer_sync_time_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"sync_remote p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_write_shared_buffer_sync_time_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))  / sum by(le, risingwave_component, pod)(rate(state_store_write_shared_buffer_sync_time_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"sync_remote avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"H","step":10,"target":""}],"title":"Write Duration","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":39},"hideTimeOverride":false,"id":63,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_bloom_filter_true_negative_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"bloom filter true negative  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_bloom_filter_might_positive_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"bloom filter might positive  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_iter_merge_sstable_counts_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"# merged ssts p90  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_iter_merge_sstable_counts_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"# merged ssts p99  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod)(rate(state_store_iter_merge_sstable_counts_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))  / sum by(le, risingwave_component, pod)(rate(state_store_iter_merge_sstable_counts_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"# merged ssts avg  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""}],"title":"sst read counters","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":47},"hideTimeOverride":false,"id":64,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_get_key_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod)) + histogram_quantile(0.9, sum(rate(state_store_get_value_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_get_key_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod)) + histogram_quantile(0.99, sum(rate(state_store_get_value_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_get_key_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod)) + histogram_quantile(0.999, sum(rate(state_store_get_value_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""}],"title":"Read Item Size - Get","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":47},"hideTimeOverride":false,"id":65,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_range_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"scan p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_range_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"scan p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_range_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"scan p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_range_reverse_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"reverse scan p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_range_reverse_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"reverse scan p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_range_reverse_scan_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"reverse scan p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"F","step":10,"target":""}],"title":"Read Item Size - Scan","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":55},"hideTimeOverride":false,"id":66,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_iter_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_iter_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_iter_size_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""}],"title":"Read Item Size - Iter","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":55},"hideTimeOverride":false,"id":67,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_iter_item_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_iter_item_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.999, sum(rate(state_store_iter_item_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p999 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""}],"title":"Read Item Count - Iter","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":63},"hideTimeOverride":false,"id":68,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_write_batch_tuple_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"write_batch_kv_pair_count - {{pod}} ","metric":"","refId":"A","step":10,"target":""}],"title":"write kv pair counts","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"Bps"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":63},"hideTimeOverride":false,"id":69,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_write_batch_size_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod) / sum(rate(state_store_write_batch_size_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"shared_buffer - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_shared_buffer_to_sstable_size_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod) / sum(rate(state_store_shared_buffer_to_sstable_size_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"sync - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""}],"title":"write throughput","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":71},"hideTimeOverride":false,"id":70,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(state_store_shared_buffer_to_l0_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_shared_buffer_to_l0_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_shared_buffer_to_l0_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod) (rate(state_store_shared_buffer_to_l0_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component, pod) (rate(state_store_shared_buffer_to_l0_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"build sstable duration","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"ops"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":71},"hideTimeOverride":false,"id":71,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_iter_merge_seek_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"MI seek  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(rate(state_store_iter_merge_next_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"MI next  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""}],"title":"merge iterators ops","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":79},"hideTimeOverride":false,"id":72,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(batch_row_seq_scan_next_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"row_seq_scan next p50 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(batch_row_seq_scan_next_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p90 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(batch_row_seq_scan_next_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"p99 - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod) (rate(batch_row_seq_scan_next_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component, pod) (rate(batch_row_seq_scan_next_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"row_seq_scan next avg - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"row seq scan next duration","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":79},"hideTimeOverride":false,"id":73,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(rate(state_store_iter_merge_seek_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"mi_seek p50  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(rate(state_store_iter_merge_seek_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"mi_seek p90  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(rate(state_store_iter_merge_seek_duration_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":true,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"mi_seek p99  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum by(le, risingwave_component, pod) (rate(state_store_iter_merge_seek_duration_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum by(le, risingwave_component, pod) (rate(state_store_iter_merge_seek_duration_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"mi_seek avg  - {{pod}} @ {{risingwave_component}}","metric":"","refId":"D","step":10,"target":""}],"title":"merge iterators duration","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"Hummock","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":15},"hideTimeOverride":false,"id":74,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":8},"hideTimeOverride":false,"id":75,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ GetNewTableId_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod)) ","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ GetNewTableId_p50 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"get new TableID latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":8},"hideTimeOverride":false,"id":76,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ GetNewTableId_p90","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ GetNewTableId_p90 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"get new TableID latency p90","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":8},"hideTimeOverride":false,"id":77,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ GetNewTableId_p99","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_GetNewTableId_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"get new TableID latency p99","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":16},"hideTimeOverride":false,"id":78,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ AddTables_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ AddTables_p50 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"add tables latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":16},"hideTimeOverride":false,"id":79,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ AddTables_p90","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ AddTables_p90 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"add tables latency p90","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":16},"hideTimeOverride":false,"id":80,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ AddTables_p99","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ AddTables_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"add tables latency p99","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Hummock Table Comparison","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":16},"hideTimeOverride":false,"id":81,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":9},"hideTimeOverride":false,"id":82,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ ReportCompactionTasks_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ ReportCompactionTasks_p50 - {{pod}}","metric":"","refId":"B","step":10,"target":""}],"title":"report compation latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":9},"hideTimeOverride":false,"id":83,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ ReportCompactionTasks_p90","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ ReportCompactionTasks_p90 - {{pod}}","metric":"","refId":"B","step":10,"target":""}],"title":"report compation latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":9},"hideTimeOverride":false,"id":84,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_ ReportCompactionTasks_p99","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_ ReportCompactionTasks_p99 - {{pod}}","metric":"","refId":"B","step":10,"target":""}],"title":"report compation latency p50","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Hummock Compaction Comparison","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":17},"hideTimeOverride":false,"id":85,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":10},"hideTimeOverride":false,"id":86,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_pinVersion_p50 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_pinVersion_p50 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"pin version latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":10},"hideTimeOverride":false,"id":87,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_pinVersion_p90 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_pinVersion_p90 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"pin version latency p90","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":10},"hideTimeOverride":false,"id":88,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_pinVersion_p99 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_pinVersion_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"pin version latency p90","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":18},"hideTimeOverride":false,"id":89,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_unpinVersion_p50 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_unpinVersion_p50 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"unpin version latency p50","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":18},"hideTimeOverride":false,"id":90,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_unpinVersion_p90 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_unpinVersion_p90 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"unpin version latency p90","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":18},"hideTimeOverride":false,"id":91,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_manager_unpinVersion_p99 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"hummock_client_unpinVersion_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"unpin version latency p99","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Hummock Version Comparison","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":18},"hideTimeOverride":false,"id":92,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":11},"hideTimeOverride":false,"id":93,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Create\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Create_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Create\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Create_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Create\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Create_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.CatalogService/Create\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.CatalogService/Create\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Create_avg","metric":"","refId":"D","step":10,"target":""}],"title":"create latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":11},"hideTimeOverride":false,"id":94,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Drop\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Drop_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Drop\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Drop_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/Drop\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Drop_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.CatalogService/Drop\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.CatalogService/Drop\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Drop_avg","metric":"","refId":"D","step":10,"target":""}],"title":"drop latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":11},"hideTimeOverride":false,"id":95,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/GetCatalog\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetCatalog_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/GetCatalog\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetCatalog_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.CatalogService/GetCatalog\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetCatalog_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.CatalogService/GetCatalog\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.CatalogService/GetCatalog\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetCatalog_avg","metric":"","refId":"D","step":10,"target":""}],"title":"get catalog latency","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Meta: Catalog Service","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":19},"hideTimeOverride":false,"id":96,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":12},"hideTimeOverride":false,"id":97,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/AddWorkerNode\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddWorkerNode_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/AddWorkerNode\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddWorkerNode_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/AddWorkerNode\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddWorkerNode_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.ClusterService/AddWorkerNode\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.ClusterService/AddWorkerNode\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddWorkerNode_avg","metric":"","refId":"D","step":10,"target":""}],"title":"add worker node latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":12},"hideTimeOverride":false,"id":98,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/ListAllNodes\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ListAllNodes_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/ListAllNodes\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ListAllNodes_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.ClusterService/ListAllNodes\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ListAllNodes_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.ClusterService/ListAllNodes\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.ClusterService/ListAllNodes\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ListAllNodes_avg","metric":"","refId":"D","step":10,"target":""}],"title":"list all node latency","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Meta: Cluster Service","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":20},"hideTimeOverride":false,"id":99,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":13},"hideTimeOverride":false,"id":100,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/CreateMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"CreateMaterializedView_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/CreateMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"CreateMaterializedView_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/CreateMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"CreateMaterializedView_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.StreamManagerService/CreateMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.StreamManagerService/CreateMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"CreateMaterializedView_avg","metric":"","refId":"D","step":10,"target":""}],"title":"create materialized view latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":13},"hideTimeOverride":false,"id":101,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/DropMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"DropMaterializedView_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/DropMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"DropMaterializedView_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/DropMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"DropMaterializedView_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.StreamManagerService/DropMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.StreamManagerService/DropMaterializedView\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"DropMaterializedView_avg","metric":"","refId":"D","step":10,"target":""}],"title":"drop materialized view latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":13},"hideTimeOverride":false,"id":102,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/Flush\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Flush_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/Flush\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Flush_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/meta.StreamManagerService/Flush\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Flush_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/meta.StreamManagerService/Flush\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/meta.StreamManagerService/Flush\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"Flush_avg","metric":"","refId":"D","step":10,"target":""}],"title":"flush latency","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Meta: Stream Manager","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":21},"hideTimeOverride":false,"id":103,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":14},"hideTimeOverride":false,"id":104,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinVersion_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinVersion_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinVersion_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/UnpinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinVersion_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinVersion_p50","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinVersion_p90","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinVersion_p99","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/PinVersion\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinVersion_avg","metric":"","refId":"H","step":10,"target":""}],"title":"version latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":14},"hideTimeOverride":false,"id":105,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinSnapshot_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinSnapshot_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/UnpinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinSnapshot_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/UnpinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/UnpinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"UnpinSnapshot_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinSnapshot_p50","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinSnapshot_p90","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/PinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinSnapshot_p99","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/PinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/PinSnapshot\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"PinSnapshot_avg","metric":"","refId":"H","step":10,"target":""}],"title":"snapshot latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":14},"hideTimeOverride":false,"id":106,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ReportCompactionTasks_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ReportCompactionTasks_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ReportCompactionTasks_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/ReportCompactionTasks\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"ReportCompactionTasks_avg","metric":"","refId":"D","step":10,"target":""}],"title":"compation latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":22},"hideTimeOverride":false,"id":107,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddTables_p50","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddTables_p90","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddTables_p99","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/AddTables\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"AddTables_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetNewTableId_p50","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetNewTableId_p90","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(meta_grpc_duration_seconds_bucket{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetNewTableId_p99","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(meta_grpc_duration_seconds_sum{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(meta_grpc_duration_seconds_count{path=\"/hummock.HummockManagerService/GetNewTableId\", namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"GetNewTableId_avg","metric":"","refId":"H","step":10,"target":""}],"title":"table latency","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC Meta: Hummock Manager","transformations":[],"type":"row"},{"collapsed":true,"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"thresholds":{"mode":"absolute","steps":[]}},"overrides":[]},"gridPos":{"h":1,"w":24,"x":0,"y":22},"hideTimeOverride":false,"id":108,"links":[],"maxDataPoints":100,"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":15},"hideTimeOverride":false,"id":109,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_report_compaction_task_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"report_compaction_task_counts - {{pod}} ","metric":"","refId":"A","step":10,"target":""}],"title":"compaction_count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":15},"hideTimeOverride":false,"id":110,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_version_latency_p50 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_version_latency_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_pin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_version_latencyp90 - {{pod}} ","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_pin_version_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_pin_version_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_version_latency_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_version_latency_p50 - {{pod}} ","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_version_latency_p99 - {{pod}} ","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_unpin_version_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_unpin_version_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_version_latency_avg","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(irate(state_store_unpin_version_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_version_latency_p90 - {{pod}} ","metric":"","refId":"H","step":10,"target":""}],"title":"version_latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":23},"hideTimeOverride":false,"id":111,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_pin_version_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_version_counts - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_unpin_version_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_version_counts - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"version_count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":23},"hideTimeOverride":false,"id":112,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_pin_snapshot_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_latency_p50 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_pin_snapshot_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_latency_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_pin_snapshot_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_latencyp90 - {{pod}} ","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_pin_snapshot_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_pin_snapshot_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_latency_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_unpin_version_snapshot_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_snapshot_latency_p50 - {{pod}} ","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_unpin_version_snapshot_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_snapshot_latency_p99 - {{pod}} ","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_unpin_snapshot_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_unpin_snapshot_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_snapshot_latency_avg","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(irate(state_store_unpin_snapshot_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_snapshot_latency_p90 - {{pod}} ","metric":"","refId":"H","step":10,"target":""}],"title":"snapshot_latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":31},"hideTimeOverride":false,"id":113,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_pin_snapshot_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_counts - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_unpin_snapshot_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"unpin_snapshot_counts - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"snapshot_count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":31},"hideTimeOverride":false,"id":114,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le,pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"pin_snapshot_latency_p50 - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"add_table_latency_p99 - {{pod}} ","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.9, sum(irate(state_store_add_tables_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"add_table_latency_p90 - {{pod}} ","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_add_tables_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_add_tables_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"add_table_latency_avg","metric":"","refId":"D","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get_new_table_id_latency_p50 - {{pod}} ","metric":"","refId":"E","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get_new_table_id_latency_p99 - {{pod}} ","metric":"","refId":"F","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_get_new_table_id_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_get_new_table_id_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get_new_table_id_latency_avg","metric":"","refId":"G","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(irate(state_store_get_new_table_id_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get_new_table_id_latency_p90 - {{pod}} ","metric":"","refId":"H","step":10,"target":""}],"title":"table_latency","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":""},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":39},"hideTimeOverride":false,"id":115,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_add_tables_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"add_tables_counts - {{pod}} ","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_get_new_table_id_counts{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))by(risingwave_component,pod)","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"get_new_table_id_counts - {{pod}} ","metric":"","refId":"B","step":10,"target":""}],"title":"table_count","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"prometheus"},"editable":true,"error":false,"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":10,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"log":2,"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[]},"unit":"s"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":39},"hideTimeOverride":false,"id":116,"links":[],"maxDataPoints":100,"options":{"legend":{"calcs":["max"],"displayMode":"table","placement":"right"},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.5, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"report_compaction_task_latency_p50 - {{pod}}","metric":"","refId":"A","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.99, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"report_compaction_task_latency_p99 - {{pod}}","metric":"","refId":"B","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"sum(irate(state_store_report_compaction_task_latency_sum{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) / sum(irate(state_store_report_compaction_task_latency_count{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval]))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"report_compaction_task_latency_avg","metric":"","refId":"C","step":10,"target":""},{"datasource":{"type":"prometheus","uid":"prometheus"},"expr":"histogram_quantile(0.90, sum(irate(state_store_report_compaction_task_latency_bucket{namespace=\"$namespace\", risingwave_name=\"$instance\"}[$__rate_interval])) by (le, risingwave_component, pod))","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"report_compaction_task_latency_p90 - {{pod}}","metric":"","refId":"D","step":10,"target":""}],"title":"compation_latency","transformations":[],"type":"timeseries"}],"targets":[{"datasource":{"type":"prometheus","uid":"prometheus"},"refId":"A"}],"title":"gRPC: Hummock Meta Client","transformations":[],"type":"row"}],"refresh":"10s","schemaVersion":36,"style":"dark","tags":["risingwave"],"templating":{"list":[{"current":{"selected":false,"text":"default","value":"default"},"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(up{risingwave_name=~\".+\"}, namespace)","description":"Kubernetes namespace.","hide":0,"includeAll":false,"label":"Namespace","multi":false,"name":"namespace","options":[],"query":{"query":"label_values(up{risingwave_name=~\".+\"}, namespace)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":1,"type":"query"},{"datasource":{"type":"prometheus","uid":"prometheus"},"definition":"label_values(up{namespace=\"$namespace\", risingwave_name=~\".+\"}, risingwave_name)","description":"RisingWave pod.","hide":0,"includeAll":false,"label":"RisingWave","multi":false,"name":"instance","options":[],"query":{"query":"label_values(up{namespace=\"$namespace\", risingwave_name=~\".+\"}, risingwave_name)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":5,"type":"query"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"hidden":false,"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"RisingWave Dashboard","uid":"Ecy3uV1nz","version":7,"weekStart":""}
